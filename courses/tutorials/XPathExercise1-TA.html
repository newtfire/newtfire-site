
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml">


   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <link rel="stylesheet" type="text/css" href="../explain.css" />
      <title>XPath Exercise 1 (TA)</title>
   </head>



   <body>
      <!--#include virtual="topAuthorDJB.html" -->
      <h1><span class="banner">XPath Exercise 1: XPath on <i>The Tempest</i></span></h1>
      <h2>Getting started</h2>
     <ul> <li>Launch &lt;oXygen/&gt; editor, hit <strong>Ctrl+u (Windows)</strong> or <strong>Cmd+u (MacOS)</strong>, copy and paste the string <code>http://newtfire.org:8338/exist/apps/shakespeare/data/tem.xml</code>, and hit OK. (Backup copy at <code>https://raw.githubusercontent.com/ebeshero/UpTransformation/master/data/ham.xml</code>.) This is a copy of Hamlet with TEI markup.</li>
        <li>Set the dropdown in the upper left to XPath 3.1 (if it is not set like this already). (This widget is called the <dfn>XPath Toolbar</dfn>⬀.)</li>
        <li>Go to <strong>Window → Show View → XPath/XQuery Builder</strong>. Set the dropdown in the upper left to XPath 3.1. Enter some XPath expressions (may span multiple lines; Enter for a new line). To run, hit Ctrl+Enter (Windows) or Cmd+Enter (MacOS), or click the red right-pointed triangle.</li>
      </ul>
      
      <h2>The assignment</h2>
      <p>Respond to the XPath
         questions below in a text or markdown file, and <a href="https://canvas.psu.edu">upload to Canvas</a>
         for this assignment when you’re finished. (Please upload a file! If you paste your
         answers into the text box, Canvas may munch the code formatting.) I like using a separate text editor for this kind of exercise, or using the Tile Editors Vertically option in &lt;oXygen/&gt; (Window → Tile Editors Vertically). Some of these tasks are
         thought-provoking, and even difficult. If you get stuck, do the best you can, and if you
         can’t get a working answer, give the answers you tried and explain where they failed to get
         the results you wanted. Sometimes doing that will help you figure out what’s wrong, and
         even when it doesn’t, it will help us identify the difficult moments. Consult our
         introductory guide <cite class="sub"><a href="explainXPath.html">Follow the
            XPath!</a></cite> and <a href="https://ebeshero.github.io/UpTransformation/schedule.html">our interactive tutorial site</a> for help with constructing your expressions.</p>
      
      <p>With <i>The Tempest</i> play and the XPath browser window in &lt;oXygen/&gt;, respond to the following questions by studying the XML files and writing XPath expressions. <strong>Be sure to give the
         XPath expression you used in your answer, and don’t just report your results.</strong>
         This way, if the answer is incorrect, we can help explain what went wrong. </p>
      
     <ol>
        <li><i>The Tempest</i>, like a typical Shakespearean play, contains five acts, each of which contains scenes. Both acts and scenes are encoded as division (<code>&lt;div&gt;</code>) elements. Scroll into the document far enough so you can see the first act and the first scene to see how this is coded. Now, try writing XPath expressions to answer the following questions:
           <ol><li>How can XPath tell apart the acts and the scenes?</li>
              <li>What XPath would find just the acts?</li>
              <li>What XPath would find just the scenes?</li>
              <li>What XPath would find just the scenes inside Act II? (The Results window for the previous questions will give you a good clue: look at the numbers inside square brackets.)</li>
           </ol>
           </li>
        <li>Stage directions (<code>&lt;stage&gt;</code> occur in a variety of places in this XML file.
            <ol>
               <li>Write an XPath to find all the stage directions in the document wherever they may be.</li>
               <li>Write an XPath to reach into Act 3 and find all the stage directions inside that act.</li>
               <li>What XPath would find all of the stage directions that are nested inside a metrical line (<code>&lt;l&gt;</code>), that is, between the starting <code>&lt;l&gt;</code> and the ending <code>&lt;/l&gt;</code>? How many stage directions are inside lines?</li>
               <li>What XPath would find all of the stage directions that are nested directly inside a speech (<code>&lt;sp&gt;</code>) and outside of the lines within a speech?</li>
               <li>Run the XPath that finds all the stage directions wherever they are in the whole play again and study the results. Look for stage directions that are <dfn>not</dfn> inside a speech (<code>&lt;sp&gt;</code>) or metrical line (<code>&lt;l&gt;</code>). <strong>What other element</strong> holds stage directions when they are not inside a speech or line?</li>
               <li>Now, can you write a simple XPath expression that returns all of the stage directions that are not inside a speech or a line? (Check your Results window to make sure none of them are nested inside a speech or line.) How many are there?</li>
               <!--<li>For the stage directions you identified in #2c, above, write an XPath expression that will return not the <code>&lt;stage&gt;</code> elements themselves, but their parent elements, whatever they might be. What are those parent elements? (You haven't yet learned the XPath to return just the names of the parent elements [rather than the elements themselves], but you can locate them, click on each one in the list &lt;oXygen/&gt; returns, and look at it directly.)</li>-->
    
        
        
     </ol>
        </li>        
           <li>Let's take a look at some attributes in this document. The <code>@</code> symbol in XPath indicates the <dfn>attribute axis</dfn>.
           <ol>
              <li>Write an XPath to find all the speeches (<code>&lt;sp&gt;</code>) and then step over to isolate their <code>@who</code> attributes. (The Results window shows you just the attribute values.) Record your XPath expression.</li>
              <li>Often we use attributes in XPath to <dfn>filter</dfn> elements, and isolate, say, only the speeches spoken by a particular character. To filter results, we use a <dfn>predicate</dfn> expression written inside square brackets. Look for examples of predicates in our XPath tutorial that filter elements based on their attributes. Then write an XPath expression with a predicate to return all of the speeches in the play spoken by Prospero. Record your expression and how many results you get. Try changing the speaker to Miranda: how many speeches are spoken by her? </li>
           </ol>

           </li>
            </ol>
        
        
      
    
   </body>

</html>
